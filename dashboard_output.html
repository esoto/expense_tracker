<!-- BEGIN app/views/layouts/application.html.erb --><!DOCTYPE html>
<html>
  <head>
    <title>Dashboard - Expense Tracker</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="v3rhjrmCofQY9lva1I1Q0lS_ImTHpCJUquTJq-rydP2vjq2wn5VDBQ2rZ_1m-eeisTXJ58gdmxZL_l1xUZYQCw" />
    

    


    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">

    <link rel="stylesheet" href="/assets/application-85e7bca7.css" data-turbo-track="reload" />
<link rel="stylesheet" href="/assets/components/batch_selection-6334db9a.css" data-turbo-track="reload" />
<link rel="stylesheet" href="/assets/components/dashboard_expenses-697eaa87.css" data-turbo-track="reload" />
<link rel="stylesheet" href="/assets/components/inline_actions-484cf84c.css" data-turbo-track="reload" />
<link rel="stylesheet" href="/assets/components/inline_actions_simple-cd6fae65.css" data-turbo-track="reload" />
<link rel="stylesheet" href="/assets/components/view_toggle-5826adec.css" data-turbo-track="reload" />
<link rel="stylesheet" href="/assets/tailwind-e4ad0771.css" data-turbo-track="reload" />
    <script type="importmap" data-turbo-track="reload">{
  "imports": {
    "application": "/assets/application-910df434.js",
    "@hotwired/turbo-rails": "/assets/turbo.min-3a2e143f.js",
    "@hotwired/stimulus": "/assets/stimulus.min-4b1e420e.js",
    "@hotwired/stimulus-loading": "/assets/stimulus-loading-1fc53fe7.js",
    "@rails/actioncable": "/assets/actioncable.esm-e0ec9819.js",
    "progress_throttler": "/assets/progress_throttler-aeec50e1.js",
    "chart.js": "https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js",
    "chartjs-adapter-date-fns": "https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js",
    "chartkick": "https://cdn.jsdelivr.net/npm/chartkick@5.0.1/dist/chartkick.esm.js",
    "controllers/accessibility_enhanced_controller": "/assets/controllers/accessibility_enhanced_controller-a425848e.js",
    "controllers/animated_metric_controller": "/assets/controllers/animated_metric_controller-659c79df.js",
    "controllers/application": "/assets/controllers/application-3affb389.js",
    "controllers/batch_selection_controller": "/assets/controllers/batch_selection_controller-969c32ee.js",
    "controllers/budget_progress_controller": "/assets/controllers/budget_progress_controller-fd6e0199.js",
    "controllers/bulk_actions_controller": "/assets/controllers/bulk_actions_controller-a27e3108.js",
    "controllers/bulk_categorization_controller": "/assets/controllers/bulk_categorization_controller-e50233e6.js",
    "controllers/bulk_operations_controller": "/assets/controllers/bulk_operations_controller-8d35db4c.js",
    "controllers/category_confidence_controller": "/assets/controllers/category_confidence_controller-c8789cba.js",
    "controllers/chart_controller": "/assets/controllers/chart_controller-0271b9a3.js",
    "controllers/conflict_modal_controller": "/assets/controllers/conflict_modal_controller-8c27494a.js",
    "controllers/conflict_resolution_controller": "/assets/controllers/conflict_resolution_controller-cca88074.js",
    "controllers/dashboard_card_navigation_controller": "/assets/controllers/dashboard_card_navigation_controller-8c4c087c.js",
    "controllers/dashboard_expenses_controller": "/assets/controllers/dashboard_expenses_controller-31b6112f.js",
    "controllers/dashboard_inline_actions_controller": "/assets/controllers/dashboard_inline_actions_controller-5c6492d6.js",
    "controllers/dropdown_controller": "/assets/controllers/dropdown_controller-4e4eb200.js",
    "controllers/filter_chips_controller": "/assets/controllers/filter_chips_controller-59fdf268.js",
    "controllers/filter_persistence_controller": "/assets/controllers/filter_persistence_controller-38b65881.js",
    "controllers/hello_controller": "/assets/controllers/hello_controller-708796bd.js",
    "controllers": "/assets/controllers/index-ee64e1f1.js",
    "controllers/inline_actions_controller": "/assets/controllers/inline_actions_controller-536cbe18.js",
    "controllers/modal_controller": "/assets/controllers/modal_controller-b976f50d.js",
    "controllers/pattern_analytics_filters_controller": "/assets/controllers/pattern_analytics_filters_controller-83e0907f.js",
    "controllers/pattern_chart_controller": "/assets/controllers/pattern_chart_controller-11f26425.js",
    "controllers/pattern_form_controller": "/assets/controllers/pattern_form_controller-ad155a3b.js",
    "controllers/pattern_heatmap_controller": "/assets/controllers/pattern_heatmap_controller-b6399bd8.js",
    "controllers/pattern_management_controller": "/assets/controllers/pattern_management_controller-64229fa8.js",
    "controllers/pattern_test_example_controller": "/assets/controllers/pattern_test_example_controller-27b9beb1.js",
    "controllers/pattern_trend_chart_controller": "/assets/controllers/pattern_trend_chart_controller-48d0f843.js",
    "controllers/queue_monitor_controller": "/assets/controllers/queue_monitor_controller-31f83d99.js",
    "controllers/range_display_controller": "/assets/controllers/range_display_controller-d2b80ee7.js",
    "controllers/simple_inline_actions_controller": "/assets/controllers/simple_inline_actions_controller-fa35e053.js",
    "controllers/sparkline_controller": "/assets/controllers/sparkline_controller-2daaec94.js",
    "controllers/sync_session_detail_controller": "/assets/controllers/sync_session_detail_controller-c411b6be.js",
    "controllers/sync_sessions_controller": "/assets/controllers/sync_sessions_controller-8bdd2b18.js",
    "controllers/sync_widget_controller": "/assets/controllers/sync_widget_controller-48b948c7.js",
    "controllers/toast_container_controller": "/assets/controllers/toast_container_controller-749d10e9.js",
    "controllers/toast_controller": "/assets/controllers/toast_controller-b47f2991.js",
    "controllers/tooltip_controller": "/assets/controllers/tooltip_controller-f064bec1.js",
    "controllers/trend_interval_controller": "/assets/controllers/trend_interval_controller-4755b9d9.js",
    "controllers/view_toggle_controller": "/assets/controllers/view_toggle_controller-a91cdacc.js",
    "controllers/virtual_scroll_controller": "/assets/controllers/virtual_scroll_controller-da86b230.js"
  }
}</script>
<link rel="modulepreload" href="/assets/application-910df434.js">
<link rel="modulepreload" href="/assets/turbo.min-3a2e143f.js">
<link rel="modulepreload" href="/assets/stimulus.min-4b1e420e.js">
<link rel="modulepreload" href="/assets/stimulus-loading-1fc53fe7.js">
<link rel="modulepreload" href="/assets/actioncable.esm-e0ec9819.js">
<link rel="modulepreload" href="/assets/progress_throttler-aeec50e1.js">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/chartkick@5.0.1/dist/chartkick.esm.js">
<link rel="modulepreload" href="/assets/controllers/accessibility_enhanced_controller-a425848e.js">
<link rel="modulepreload" href="/assets/controllers/animated_metric_controller-659c79df.js">
<link rel="modulepreload" href="/assets/controllers/application-3affb389.js">
<link rel="modulepreload" href="/assets/controllers/batch_selection_controller-969c32ee.js">
<link rel="modulepreload" href="/assets/controllers/budget_progress_controller-fd6e0199.js">
<link rel="modulepreload" href="/assets/controllers/bulk_actions_controller-a27e3108.js">
<link rel="modulepreload" href="/assets/controllers/bulk_categorization_controller-e50233e6.js">
<link rel="modulepreload" href="/assets/controllers/bulk_operations_controller-8d35db4c.js">
<link rel="modulepreload" href="/assets/controllers/category_confidence_controller-c8789cba.js">
<link rel="modulepreload" href="/assets/controllers/chart_controller-0271b9a3.js">
<link rel="modulepreload" href="/assets/controllers/conflict_modal_controller-8c27494a.js">
<link rel="modulepreload" href="/assets/controllers/conflict_resolution_controller-cca88074.js">
<link rel="modulepreload" href="/assets/controllers/dashboard_card_navigation_controller-8c4c087c.js">
<link rel="modulepreload" href="/assets/controllers/dashboard_expenses_controller-31b6112f.js">
<link rel="modulepreload" href="/assets/controllers/dashboard_inline_actions_controller-5c6492d6.js">
<link rel="modulepreload" href="/assets/controllers/dropdown_controller-4e4eb200.js">
<link rel="modulepreload" href="/assets/controllers/filter_chips_controller-59fdf268.js">
<link rel="modulepreload" href="/assets/controllers/filter_persistence_controller-38b65881.js">
<link rel="modulepreload" href="/assets/controllers/hello_controller-708796bd.js">
<link rel="modulepreload" href="/assets/controllers/index-ee64e1f1.js">
<link rel="modulepreload" href="/assets/controllers/inline_actions_controller-536cbe18.js">
<link rel="modulepreload" href="/assets/controllers/modal_controller-b976f50d.js">
<link rel="modulepreload" href="/assets/controllers/pattern_analytics_filters_controller-83e0907f.js">
<link rel="modulepreload" href="/assets/controllers/pattern_chart_controller-11f26425.js">
<link rel="modulepreload" href="/assets/controllers/pattern_form_controller-ad155a3b.js">
<link rel="modulepreload" href="/assets/controllers/pattern_heatmap_controller-b6399bd8.js">
<link rel="modulepreload" href="/assets/controllers/pattern_management_controller-64229fa8.js">
<link rel="modulepreload" href="/assets/controllers/pattern_test_example_controller-27b9beb1.js">
<link rel="modulepreload" href="/assets/controllers/pattern_trend_chart_controller-48d0f843.js">
<link rel="modulepreload" href="/assets/controllers/queue_monitor_controller-31f83d99.js">
<link rel="modulepreload" href="/assets/controllers/range_display_controller-d2b80ee7.js">
<link rel="modulepreload" href="/assets/controllers/simple_inline_actions_controller-fa35e053.js">
<link rel="modulepreload" href="/assets/controllers/sparkline_controller-2daaec94.js">
<link rel="modulepreload" href="/assets/controllers/sync_session_detail_controller-c411b6be.js">
<link rel="modulepreload" href="/assets/controllers/sync_sessions_controller-8bdd2b18.js">
<link rel="modulepreload" href="/assets/controllers/sync_widget_controller-48b948c7.js">
<link rel="modulepreload" href="/assets/controllers/toast_container_controller-749d10e9.js">
<link rel="modulepreload" href="/assets/controllers/toast_controller-b47f2991.js">
<link rel="modulepreload" href="/assets/controllers/tooltip_controller-f064bec1.js">
<link rel="modulepreload" href="/assets/controllers/trend_interval_controller-4755b9d9.js">
<link rel="modulepreload" href="/assets/controllers/view_toggle_controller-a91cdacc.js">
<link rel="modulepreload" href="/assets/controllers/virtual_scroll_controller-da86b230.js">
<script type="module">import "application"</script>
  </head>

  <body class="bg-slate-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b border-slate-200">
      <div class="max-w-7xl mx-auto px-4">
        <div class="flex justify-between items-center py-4">
          <div class="flex items-center space-x-2">
            <div class="bg-teal-700 text-white p-2 rounded-lg shadow-sm">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
              </svg>
            </div>
            <a class="text-xl font-bold text-slate-900" href="/expenses">Expense Tracker</a>
          </div>
          <div class="flex items-center space-x-4">
            <a class="text-slate-600 hover:text-teal-700 px-3 py-2 rounded-md text-sm font-medium bg-teal-50 text-teal-700" href="/expenses/dashboard">Dashboard</a>
            <a class="text-slate-600 hover:text-teal-700 px-3 py-2 rounded-md text-sm font-medium " href="/expenses">Gastos</a>
            <a class="text-slate-600 hover:text-teal-700 px-3 py-2 rounded-md text-sm font-medium " href="/bulk_categorizations">Categorizar</a>
            <a class="text-slate-600 hover:text-teal-700 px-3 py-2 rounded-md text-sm font-medium " href="/analytics/pattern_dashboard">Analytics</a>
            <a class="text-slate-600 hover:text-teal-700 px-3 py-2 rounded-md text-sm font-medium " href="/email_accounts">Cuentas</a>
            <a class="text-slate-600 hover:text-teal-700 px-3 py-2 rounded-md text-sm font-medium " href="/sync_sessions">Sincronización</a>
            <a class="text-slate-600 hover:text-teal-700 px-3 py-2 rounded-md text-sm font-medium " href="/admin/patterns">Patrones</a>
            <a class="bg-teal-700 hover:bg-teal-800 text-white px-4 py-2 rounded-lg text-sm font-medium shadow-sm" href="/expenses/new">Nuevo Gasto</a>
          </div>
        </div>
      </div>
    </nav>

    <!-- Flash Messages -->


    <!-- Toast Notification Container -->
    <div id="toast-container"
         class="fixed top-4 right-4 z-50 pointer-events-none"
         data-controller="toast-container">
      <!-- Toasts will be dynamically inserted here -->
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 py-6">
      <!-- BEGIN app/views/expenses/dashboard.html.erb -->
<!-- Subscribe to Turbo Stream broadcasts for real-time updates -->
<turbo-cable-stream-source channel="Turbo::StreamsChannel" signed-stream-name="ImRhc2hib2FyZF9zeW5jX3VwZGF0ZXMi--289f0f76fbaa6d2c2882fa30a88ac186d1e58ae34017930afc0c23cc0ce92d41"></turbo-cable-stream-source>

<div class="space-y-6">
  <!-- Header -->
  <div class="text-center">
    <h1 class="text-3xl font-bold text-slate-900">Dashboard de Gastos</h1>
    <p class="text-slate-600 mt-2">Resumen completo de tus finanzas</p>
  </div>

  <!-- Email Sync Section -->
  <turbo-frame id="sync_status_section">
  <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6"
       data-controller="sync-widget"
       data-sync-widget-session-id-value="0"
       data-sync-widget-active-value="false">
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-lg font-semibold text-slate-900">Sincronización de Correos</h2>
    </div>

    <!-- Real-time Progress Bar -->

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <!-- Sync All Button -->
      <div class="space-y-4">
        <form class="space-y-4" action="/expenses/sync_emails" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="KXckziQAaUKX0QusgdkpPXA1iu6pBn0Grb1SDQtf1vbigod2ao2_NS5t-zou-MGAcaE7fdq4az07u5aD15hKDw" autocomplete="off" />
          <div class="flex flex-col space-y-2">
            <input type="submit" name="commit" value="Sincronizar Todos los Correos" class="w-full bg-teal-700 hover:bg-teal-800 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 " data-disable-with="Sincronizar Todos los Correos" />
            <p class="text-xs text-slate-600">
              Busca nuevos gastos en todas las cuentas de correo activas
            </p>
          </div>
</form>
          <!-- Individual Account Sync -->
          <div class="border-t pt-4">
            <h3 class="text-sm font-medium text-slate-700 mb-2">Sincronizar cuenta individual:</h3>
            <div class="space-y-2">
                <form class="flex items-center space-x-2" action="/expenses/sync_emails" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="1vF05Auj79dROEcAkEsR4N0SkUUnTxvfbwinoE-3Z90dBNdcRS45oOiEt5Y_avld3IYg1lTxDeT5DmMuk3D7JA" autocomplete="off" />
                  <input value="1" autocomplete="off" type="hidden" name="email_account_id" id="email_account_id" />
                  <input type="submit" name="commit" value="ecsoto07@gmail.com (BAC)" class="text-sm bg-slate-100 hover:bg-slate-200 text-slate-700 py-1 px-3 rounded transition-colors duration-200 " data-disable-with="ecsoto07@gmail.com (BAC)" />
</form>          </div>
        </div>
      </div>

      <!-- Sync Status -->
      <div class="space-y-4">
        <h3 class="text-sm font-medium text-slate-700">Estado de sincronización:</h3>
          <div class="space-y-3" data-sync-widget-target="accountsList">
              <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg" data-account-id="1">
                <div class="flex items-center space-x-3">
                  <div class="flex-shrink-0">
                    <div class="w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                      <span class="text-xs font-bold text-teal-700">
                        B
                      </span>
                    </div>
                  </div>
                  <div>
                    <p class="text-sm font-medium text-slate-900">ecsoto07@gmail.com</p>
                    <p class="text-xs text-slate-600">BAC</p>
                  </div>
                </div>
                <div class="text-right">
                  <div data-status-icon>
                      <div class="w-2 h-2 bg-emerald-400 rounded-full"></div>
                  </div>
                  <p class="text-xs text-slate-600 mt-1" data-progress-text>
                      Último: August 17, 2025 at 10:00 PM
                  </p>
                </div>
              </div>
        </div>

      </div>
    </div>
  </div>
</turbo-frame>
  <!-- Sync Status Widget -->
  <div class="mb-6">
    <!-- BEGIN app/views/sync_sessions/_unified_widget.html.erb --><!-- Unified Sync Status Widget with Real-time Updates -->
<turbo-frame class="block" id="sync_status_widget">
  <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden"
       data-controller="sync-widget"
       data-sync-widget-session-id-value="0"
       data-sync-widget-active-value="false"
       data-sync-widget-websocket-url-value="ws://localhost:3000/cable"
       data-sync-widget-enable-websocket-value="false">

    <!-- Error Message Section -->

    <!-- Header Section -->
    <div class="px-6 py-4 border-b border-slate-200 bg-gradient-to-r from-teal-50 to-white">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-3">
          <div class="relative">
            <div class="w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center">
              <svg class="w-6 h-6 text-teal-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
              </svg>
            </div>
            <!-- Animated pulse for active sync -->
          </div>

          <div>
            <h2 class="text-lg font-semibold text-slate-900">Sincronización de Correos</h2>
            <p class="text-sm text-slate-600" data-sync-widget-target="statusText">
                <span class="text-slate-500">Sin actividad</span>
            </p>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex items-center space-x-2">
            <!-- Start Sync Button -->
            <a class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-teal-700 rounded-lg hover:bg-teal-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-all transform hover:scale-105 cursor-pointer" data-turbo-method="post" data-turbo-stream="true" href="/sync_sessions">Iniciar Sincronización</a>
        </div>
      </div>
    </div>

    <!-- Progress Section (Visible when sync is active) -->
      <!-- Inactive State -->
      <div class="px-6 py-8 text-center" data-sync-widget-target="inactiveSection">
        <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-slate-100 mb-4">
          <svg class="w-8 h-8 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
        </div>
        <h3 class="text-lg font-medium text-slate-900 mb-1">No hay sincronización activa</h3>
        <p class="text-sm text-slate-600 mb-6">
            Última sincronización completada hace 5 days
        </p>

        <!-- Quick Action Buttons -->
        <div class="flex items-center justify-center space-x-3">
          <a class="inline-flex items-center px-4 py-2 bg-teal-700 text-white text-sm font-medium rounded-lg hover:bg-teal-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-all cursor-pointer" data-turbo-method="post" data-turbo-stream="true" href="/sync_sessions">Sincronizar Todas las Cuentas</a>

          <a class="inline-flex items-center px-4 py-2 bg-white text-slate-700 text-sm font-medium rounded-lg border border-slate-300 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-colors" href="/sync_sessions">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            Ver Historial
</a>        </div>
      </div>

    <!-- Connection Status Indicator -->
    <div class="hidden px-4 py-2 bg-amber-50 border-t border-amber-200"
         data-sync-widget-target="connectionWarning">
      <div class="flex items-center text-sm text-amber-800">
        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
        </svg>
        <span data-sync-widget-target="connectionMessage">Reconectando...</span>
      </div>
    </div>
  </div>
</turbo-frame><!-- END app/views/sync_sessions/_unified_widget.html.erb -->
  </div>

  <!-- Queue Visualization Widget -->
  <div class="mb-6">
    <!-- BEGIN app/views/sync_sessions/_queue_visualization.html.erb --><!-- Queue Visualization Component -->
<div class="bg-white rounded-xl shadow-sm border border-slate-200"
     data-controller="queue-monitor"
     data-queue-monitor-refresh-interval-value="5000"
     data-queue-monitor-api-endpoint-value="/api/queue/status.json">

  <!-- Header -->
  <div class="px-6 py-4 border-b border-slate-200">
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <h3 class="text-lg font-semibold text-slate-900">Background Job Queue</h3>
        <!-- Health Status Indicator -->
        <div data-queue-monitor-target="healthIndicator" class="flex items-center">
          <div data-queue-monitor-target="healthDot" class="w-2 h-2 rounded-full bg-slate-400 mr-2"></div>
          <span data-queue-monitor-target="healthText" class="text-sm text-slate-600">Checking...</span>
        </div>
      </div>

      <!-- Control Buttons -->
      <div class="flex items-center space-x-2">
        <!-- Refresh Button -->
        <button data-action="click->queue-monitor#refresh"
                class="p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors"
                title="Refresh now">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
          </svg>
        </button>

        <!-- Pause/Resume Button -->
        <button data-queue-monitor-target="pauseButton"
                data-action="click->queue-monitor#togglePause"
                class="px-3 py-1.5 bg-amber-600 hover:bg-amber-700 text-white text-sm font-medium rounded-lg transition-colors flex items-center space-x-1">
          <svg data-queue-monitor-target="pauseIcon" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <span data-queue-monitor-target="pauseText">Pause All</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Queue Metrics Grid -->
  <div class="p-6 grid grid-cols-2 lg:grid-cols-4 gap-4">
    <!-- Pending Jobs -->
    <div class="bg-slate-50 rounded-lg p-4">
      <div class="flex items-center justify-between mb-2">
        <span class="text-sm font-medium text-slate-600">Pending</span>
        <svg class="w-4 h-4 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
      </div>
      <div class="text-2xl font-bold text-slate-900" data-queue-monitor-target="pendingCount">0</div>
      <div class="text-xs text-slate-500 mt-1">Waiting to process</div>
    </div>

    <!-- Processing Jobs -->
    <div class="bg-teal-50 rounded-lg p-4">
      <div class="flex items-center justify-between mb-2">
        <span class="text-sm font-medium text-teal-700">Processing</span>
        <svg class="w-4 h-4 text-teal-600 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
      </div>
      <div class="text-2xl font-bold text-teal-900" data-queue-monitor-target="processingCount">0</div>
      <div class="text-xs text-teal-600 mt-1">Currently running</div>
    </div>

    <!-- Completed Jobs -->
    <div class="bg-emerald-50 rounded-lg p-4">
      <div class="flex items-center justify-between mb-2">
        <span class="text-sm font-medium text-emerald-700">Completed</span>
        <svg class="w-4 h-4 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
      </div>
      <div class="text-2xl font-bold text-emerald-900" data-queue-monitor-target="completedCount">0</div>
      <div class="text-xs text-emerald-600 mt-1">Last 24 hours</div>
    </div>

    <!-- Failed Jobs -->
    <div class="bg-rose-50 rounded-lg p-4">
      <div class="flex items-center justify-between mb-2">
        <span class="text-sm font-medium text-rose-700">Failed</span>
        <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
      </div>
      <div class="text-2xl font-bold text-rose-900" data-queue-monitor-target="failedCount">0</div>
      <div class="text-xs text-rose-600 mt-1">
        <button data-action="click->queue-monitor#retryAllFailed"
                data-queue-monitor-target="retryAllButton"
                class="underline hover:no-underline hidden">
          Retry all
        </button>
        <span data-queue-monitor-target="noFailedText">No failures</span>
      </div>
    </div>
  </div>

  <!-- Queue Depth Visualization -->
  <div class="px-6 pb-4">
    <div class="space-y-2">
      <div class="flex items-center justify-between text-sm">
        <span class="text-slate-600">Queue Depth</span>
        <div class="flex items-center space-x-2">
          <span class="text-slate-900 font-medium" data-queue-monitor-target="processingRate">0 jobs/min</span>
          <span class="text-slate-500">•</span>
          <span class="text-slate-600" data-queue-monitor-target="estimatedTime">--</span>
        </div>
      </div>

      <!-- Progress Bar -->
      <div class="relative">
        <div class="w-full bg-slate-200 rounded-full h-3 overflow-hidden">
          <div data-queue-monitor-target="queueDepthBar"
               class="h-full rounded-full transition-all duration-500 ease-out bg-gradient-to-r from-teal-500 to-teal-700"
               style="width: 0%"></div>
        </div>
        <!-- Queue depth scale markers -->
        <div class="flex justify-between mt-1 text-xs text-slate-500">
          <span>0</span>
          <span data-queue-monitor-target="queueDepthMax">100</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Queue Breakdown by Name -->
  <div class="px-6 pb-4" data-queue-monitor-target="queueBreakdown" style="display: none;">
    <h4 class="text-sm font-medium text-slate-700 mb-3">Queue Distribution</h4>
    <div class="space-y-2" data-queue-monitor-target="queueList">
      <!-- Dynamically populated queue list -->
    </div>
  </div>

  <!-- Active Jobs Section -->
  <div class="border-t border-slate-200" data-queue-monitor-target="activeJobsSection" style="display: none;">
    <div class="px-6 py-4">
      <h4 class="text-sm font-medium text-slate-700 mb-3 flex items-center">
        <svg class="w-4 h-4 text-teal-600 mr-2 animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
        </svg>
        Currently Processing
      </h4>
      <div class="space-y-2" data-queue-monitor-target="activeJobsList">
        <!-- Dynamically populated active jobs -->
      </div>
    </div>
  </div>

  <!-- Failed Jobs Section -->
  <div class="border-t border-slate-200" data-queue-monitor-target="failedJobsSection" style="display: none;">
    <div class="px-6 py-4">
      <div class="flex items-center justify-between mb-3">
        <h4 class="text-sm font-medium text-slate-700 flex items-center">
          <svg class="w-4 h-4 text-rose-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
          </svg>
          Failed Jobs
        </h4>
        <button data-action="click->queue-monitor#clearAllFailed"
                class="text-xs text-rose-600 hover:text-rose-700 font-medium">
          Clear All
        </button>
      </div>
      <div class="space-y-2" data-queue-monitor-target="failedJobsList">
        <!-- Dynamically populated failed jobs -->
      </div>
    </div>
  </div>

  <!-- Worker Status -->
  <div class="border-t border-slate-200 px-6 py-4">
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-4">
        <div class="flex items-center">
          <svg class="w-4 h-4 text-slate-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"></path>
          </svg>
          <span class="text-sm text-slate-600">Workers:</span>
          <span class="text-sm font-medium text-slate-900 ml-1" data-queue-monitor-target="workerCount">0</span>
        </div>
        <div class="flex items-center">
          <span class="text-sm text-slate-600">Utilization:</span>
          <span class="text-sm font-medium text-slate-900 ml-1" data-queue-monitor-target="utilization">0%</span>
        </div>
      </div>

      <!-- Auto-refresh indicator -->
      <div class="flex items-center text-xs text-slate-500">
        <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
        </svg>
        <span data-queue-monitor-target="lastUpdate">Never</span>
      </div>
    </div>
  </div>
</div><!-- END app/views/sync_sessions/_queue_visualization.html.erb -->
  </div>

  <!-- Conflict Alert (if any pending conflicts) -->

  <!-- Enhanced Key Metrics with Visual Hierarchy -->
  <div class="space-y-6">
    <!-- Primary Metric Card - 1.5x Larger with Tooltip and Navigation -->
    <div id="primary-metric-card" class="bg-gradient-to-br from-teal-700 to-teal-800 rounded-2xl shadow-xl p-8 text-white transition-all duration-300 hover:shadow-2xl hover:scale-[1.02] cursor-pointer relative"
         role="button"
         tabindex="0"
         aria-label="Ver gastos del año completo"
         data-controller="animated-metric tooltip dashboard-card-navigation"
         data-animated-metric-container-target="container"
         data-animated-metric-to-value="1908100.0"
         data-animated-metric-prefix-value="₡"
         data-animated-metric-trend-value-value="28.82"
         data-animated-metric-is-increase-value="true"
         data-tooltip-trend-data-value='{&quot;daily_amounts&quot;:[{&quot;date&quot;:&quot;2025-08-12&quot;,&quot;amount&quot;:80857.0},{&quot;date&quot;:&quot;2025-08-13&quot;,&quot;amount&quot;:48567.0},{&quot;date&quot;:&quot;2025-08-14&quot;,&quot;amount&quot;:36055.0},{&quot;date&quot;:&quot;2025-08-15&quot;,&quot;amount&quot;:32558.0},{&quot;date&quot;:&quot;2025-08-16&quot;,&quot;amount&quot;:3096.0},{&quot;date&quot;:&quot;2025-08-17&quot;,&quot;amount&quot;:29761.0},{&quot;date&quot;:&quot;2025-08-18&quot;,&quot;amount&quot;:0.0}],&quot;min&quot;:0.0,&quot;max&quot;:80857.0,&quot;average&quot;:32984.86,&quot;total&quot;:230894.0,&quot;start_date&quot;:&quot;2025-08-12&quot;,&quot;end_date&quot;:&quot;2025-08-18&quot;}'
         data-tooltip-metric-label-value="Total de Gastos (Año)"
         data-tooltip-position-value="bottom"
         data-dashboard-card-navigation-period-value="year"
         data-dashboard-card-navigation-date-from-value="2025-01-01"
         data-dashboard-card-navigation-date-to-value="2025-12-31"
         data-action="click->dashboard-card-navigation#navigate mouseenter->dashboard-card-navigation#handleMouseEnter mouseleave->dashboard-card-navigation#handleMouseLeave keydown.enter->dashboard-card-navigation#navigate keydown.space->dashboard-card-navigation#navigate">

      <div class="flex items-start justify-between mb-4">
        <div>
          <h3 class="text-lg font-medium text-teal-100 mb-2">TOTAL DE GASTOS</h3>
          <div class="flex items-baseline">
            <span class="text-5xl font-bold tracking-tight"
                  data-animated-metric-target="value">₡1,908,100</span>
          </div>
        </div>
        <div class="p-4 bg-white/10 rounded-xl backdrop-blur-sm">
          <svg class="w-10 h-10 text-white/80" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
          </svg>
        </div>
      </div>

      <!-- Trend Indicator with Animation -->
      <div class="flex items-center justify-between mt-6">
        <div data-animated-metric-target="trend" class="flex items-center">
            <svg class="w-5 h-5 text-rose-300 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"></path>
            </svg>
            <span class="text-rose-300 font-semibold">↑ +28.8%</span>
          <span class="text-teal-200 text-sm ml-2">vs mes anterior</span>
        </div>

        <!-- Mini Sparkline -->
        <div data-animated-metric-target="sparkline" class="opacity-60"></div>
      </div>

      <!-- Budget Progress for Year -->

      <!-- Additional Stats -->
      <div class="grid grid-cols-3 gap-4 mt-6 pt-6 border-t border-white/20">
        <div>
          <p class="text-teal-200 text-xs uppercase tracking-wide">Transacciones</p>
          <p class="text-2xl font-bold mt-1">156</p>
        </div>
        <div>
          <p class="text-teal-200 text-xs uppercase tracking-wide">Promedio</p>
          <p class="text-2xl font-bold mt-1">₡12,231</p>
        </div>
        <div>
          <p class="text-teal-200 text-xs uppercase tracking-wide">Categorías</p>
          <p class="text-2xl font-bold mt-1">1</p>
        </div>
      </div>
    </div>

    <!-- Secondary Metrics Cards - Regular Size -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!-- Este Mes Card with Tooltip, Budget and Navigation -->
      <div id="month-metric-card" class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 transition-all duration-200 hover:shadow-lg hover:-translate-y-1 hover:border-teal-300 cursor-pointer relative"
           role="button"
           tabindex="0"
           aria-label="Ver gastos de este mes"
           data-controller="animated-metric tooltip dashboard-card-navigation"
           data-animated-metric-container-target="container"
           data-animated-metric-to-value="1074228.0"
           data-animated-metric-prefix-value="₡"
           data-tooltip-trend-data-value='{&quot;daily_amounts&quot;:[{&quot;date&quot;:&quot;2025-08-12&quot;,&quot;amount&quot;:80857.0},{&quot;date&quot;:&quot;2025-08-13&quot;,&quot;amount&quot;:48567.0},{&quot;date&quot;:&quot;2025-08-14&quot;,&quot;amount&quot;:36055.0},{&quot;date&quot;:&quot;2025-08-15&quot;,&quot;amount&quot;:32558.0},{&quot;date&quot;:&quot;2025-08-16&quot;,&quot;amount&quot;:3096.0},{&quot;date&quot;:&quot;2025-08-17&quot;,&quot;amount&quot;:29761.0},{&quot;date&quot;:&quot;2025-08-18&quot;,&quot;amount&quot;:0.0}],&quot;min&quot;:0.0,&quot;max&quot;:80857.0,&quot;average&quot;:32984.86,&quot;total&quot;:230894.0,&quot;start_date&quot;:&quot;2025-08-12&quot;,&quot;end_date&quot;:&quot;2025-08-18&quot;}'
           data-tooltip-metric-label-value="Gastos del Mes"
           data-tooltip-position-value="top"
           data-dashboard-card-navigation-period-value="month"
           data-dashboard-card-navigation-date-from-value="2025-08-01"
           data-dashboard-card-navigation-date-to-value="2025-08-31"
           data-action="click->dashboard-card-navigation#navigate mouseenter->dashboard-card-navigation#handleMouseEnter mouseleave->dashboard-card-navigation#handleMouseLeave keydown.enter->dashboard-card-navigation#navigate keydown.space->dashboard-card-navigation#navigate">
        <div class="flex items-center justify-between mb-3">
          <div class="p-2 rounded-lg bg-amber-100">
            <svg class="w-6 h-6 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
          </div>
        </div>
        <div>
          <p class="text-sm font-medium text-slate-600 mb-1">Este Mes</p>
          <p class="text-2xl font-bold text-slate-900" data-animated-metric-target="value">
            ₡1,074,228
          </p>
          <p class="text-xs text-slate-500 mt-2">
            89 transacciones
          </p>

          <!-- Budget Progress -->
          <!-- BEGIN app/views/shared/_budget_progress.html.erb -->
  <!-- No budget set - show call to action -->
  <div class="mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200">
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <svg class="w-4 h-4 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <span class="text-xs text-slate-600">Sin presupuesto definido</span>
      </div>
      <button type="button"
              class="text-xs font-medium text-teal-700 hover:text-teal-800 transition-colors"
              data-action="click->budget-progress#openQuickSet"
              data-period="monthly">
        Establecer
      </button>
    </div>
  </div>

<!-- END app/views/shared/_budget_progress.html.erb -->
        </div>
      </div>

      <!-- Esta Semana Card with Tooltip, Budget and Navigation -->
      <div id="week-metric-card" class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 transition-all duration-200 hover:shadow-lg hover:-translate-y-1 hover:border-teal-300 cursor-pointer relative"
           role="button"
           tabindex="0"
           aria-label="Ver gastos de esta semana"
           data-controller="animated-metric tooltip dashboard-card-navigation"
           data-animated-metric-container-target="container"
           data-animated-metric-to-value="0.0"
           data-animated-metric-prefix-value="₡"
           data-tooltip-trend-data-value='{&quot;daily_amounts&quot;:[{&quot;date&quot;:&quot;2025-08-12&quot;,&quot;amount&quot;:80857.0},{&quot;date&quot;:&quot;2025-08-13&quot;,&quot;amount&quot;:48567.0},{&quot;date&quot;:&quot;2025-08-14&quot;,&quot;amount&quot;:36055.0},{&quot;date&quot;:&quot;2025-08-15&quot;,&quot;amount&quot;:32558.0},{&quot;date&quot;:&quot;2025-08-16&quot;,&quot;amount&quot;:3096.0},{&quot;date&quot;:&quot;2025-08-17&quot;,&quot;amount&quot;:29761.0},{&quot;date&quot;:&quot;2025-08-18&quot;,&quot;amount&quot;:0.0}],&quot;min&quot;:0.0,&quot;max&quot;:80857.0,&quot;average&quot;:32984.86,&quot;total&quot;:230894.0,&quot;start_date&quot;:&quot;2025-08-12&quot;,&quot;end_date&quot;:&quot;2025-08-18&quot;}'
           data-tooltip-metric-label-value="Gastos de la Semana"
           data-tooltip-position-value="top"
           data-dashboard-card-navigation-period-value="week"
           data-dashboard-card-navigation-date-from-value="2025-08-18"
           data-dashboard-card-navigation-date-to-value="2025-08-24"
           data-action="click->dashboard-card-navigation#navigate mouseenter->dashboard-card-navigation#handleMouseEnter mouseleave->dashboard-card-navigation#handleMouseLeave keydown.enter->dashboard-card-navigation#navigate keydown.space->dashboard-card-navigation#navigate">
        <div class="flex items-center justify-between mb-3">
          <div class="p-2 rounded-lg bg-teal-100">
            <svg class="w-6 h-6 text-teal-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
            </svg>
          </div>
            <span class="text-xs font-medium text-emerald-600">
              -100%
            </span>
        </div>
        <div>
          <p class="text-sm font-medium text-slate-600 mb-1">Esta Semana</p>
          <p class="text-2xl font-bold text-slate-900" data-animated-metric-target="value">
            ₡0
          </p>
          <p class="text-xs text-slate-500 mt-2">
            0 transacciones
          </p>

          <!-- Budget Progress -->
          <!-- BEGIN app/views/shared/_budget_progress.html.erb -->
  <!-- No budget set - show call to action -->
  <div class="mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200">
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <svg class="w-4 h-4 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <span class="text-xs text-slate-600">Sin presupuesto definido</span>
      </div>
      <button type="button"
              class="text-xs font-medium text-teal-700 hover:text-teal-800 transition-colors"
              data-action="click->budget-progress#openQuickSet"
              data-period="weekly">
        Establecer
      </button>
    </div>
  </div>

<!-- END app/views/shared/_budget_progress.html.erb -->
        </div>
      </div>

      <!-- Hoy Card with Tooltip, Budget and Navigation -->
      <div id="day-metric-card" class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 transition-all duration-200 hover:shadow-lg hover:-translate-y-1 hover:border-teal-300 cursor-pointer relative"
           role="button"
           tabindex="0"
           aria-label="Ver gastos de hoy"
           data-controller="animated-metric tooltip dashboard-card-navigation"
           data-animated-metric-container-target="container"
           data-animated-metric-to-value="0.0"
           data-animated-metric-prefix-value="₡"
           data-tooltip-trend-data-value='{&quot;daily_amounts&quot;:[{&quot;date&quot;:&quot;2025-08-12&quot;,&quot;amount&quot;:80857.0},{&quot;date&quot;:&quot;2025-08-13&quot;,&quot;amount&quot;:48567.0},{&quot;date&quot;:&quot;2025-08-14&quot;,&quot;amount&quot;:36055.0},{&quot;date&quot;:&quot;2025-08-15&quot;,&quot;amount&quot;:32558.0},{&quot;date&quot;:&quot;2025-08-16&quot;,&quot;amount&quot;:3096.0},{&quot;date&quot;:&quot;2025-08-17&quot;,&quot;amount&quot;:29761.0},{&quot;date&quot;:&quot;2025-08-18&quot;,&quot;amount&quot;:0.0}],&quot;min&quot;:0.0,&quot;max&quot;:80857.0,&quot;average&quot;:32984.86,&quot;total&quot;:230894.0,&quot;start_date&quot;:&quot;2025-08-12&quot;,&quot;end_date&quot;:&quot;2025-08-18&quot;}'
           data-tooltip-metric-label-value="Gastos de Hoy"
           data-tooltip-position-value="top"
           data-dashboard-card-navigation-period-value="day"
           data-dashboard-card-navigation-date-from-value="2025-08-18 00:00:00 UTC"
           data-dashboard-card-navigation-date-to-value="2025-08-18 23:59:59 UTC"
           data-action="click->dashboard-card-navigation#navigate mouseenter->dashboard-card-navigation#handleMouseEnter mouseleave->dashboard-card-navigation#handleMouseLeave keydown.enter->dashboard-card-navigation#navigate keydown.space->dashboard-card-navigation#navigate">
        <div class="flex items-center justify-between mb-3">
          <div class="p-2 rounded-lg bg-emerald-100">
            <svg class="w-6 h-6 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
            <span class="text-xs font-medium text-emerald-600">
              -100%
            </span>
        </div>
        <div>
          <p class="text-sm font-medium text-slate-600 mb-1">Hoy</p>
          <p class="text-2xl font-bold text-slate-900" data-animated-metric-target="value">
            ₡0
          </p>
          <p class="text-xs text-slate-500 mt-2">
            0 transacciones
          </p>

          <!-- Budget Progress -->
          <!-- BEGIN app/views/shared/_budget_progress.html.erb -->
  <!-- No budget set - show call to action -->
  <div class="mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200">
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <svg class="w-4 h-4 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <span class="text-xs text-slate-600">Sin presupuesto definido</span>
      </div>
      <button type="button"
              class="text-xs font-medium text-teal-700 hover:text-teal-800 transition-colors"
              data-action="click->budget-progress#openQuickSet"
              data-period="daily">
        Establecer
      </button>
    </div>
  </div>

<!-- END app/views/shared/_budget_progress.html.erb -->
        </div>
      </div>
    </div>
  </div>

  <!-- Charts Row -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Monthly Trend -->
    <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
      <h2 class="text-lg font-semibold text-slate-900 mb-4">Tendencia Mensual</h2>
      <div id="chart-1" style="height: 300px; width: 100%; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: 'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif;">Loading...</div>
<script>
  (function() {
    if (document.documentElement.hasAttribute("data-turbolinks-preview")) return;
    if (document.documentElement.hasAttribute("data-turbo-preview")) return;

    var createChart = function() { new Chartkick["LineChart"]("chart-1", [["2025-07-01",833872.0],["2025-08-01",1074228.0]], {"prefix":"₡","thousands":",","colors":["#0F766E"]}); };
    if ("Chartkick" in window) {
      createChart();
    } else {
      window.addEventListener("chartkick:load", createChart, true);
    }
  })();
</script>

    </div>

    <!-- Category Breakdown -->
    <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
      <h2 class="text-lg font-semibold text-slate-900 mb-4">Gastos por Categoría</h2>
      <div id="chart-2" style="height: 300px; width: 100%; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: 'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif;">Loading...</div>
<script>
  (function() {
    if (document.documentElement.hasAttribute("data-turbolinks-preview")) return;
    if (document.documentElement.hasAttribute("data-turbo-preview")) return;

    var createChart = function() { new Chartkick["PieChart"]("chart-2", [["Alimentación",1339249.0]], {"prefix":"₡","thousands":","}); };
    if ("Chartkick" in window) {
      createChart();
    } else {
      window.addEventListener("chartkick:load", createChart, true);
    }
  })();
</script>

    </div>
  </div>

  <!-- Detailed Tables -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Top Merchants -->
    <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
      <h2 class="text-lg font-semibold text-slate-900 mb-4">Comercios con Más Gastos</h2>
      <div class="space-y-3">
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-teal-700">1</span>
              </div>
              <span class="font-medium text-slate-900">Test Merchant</span>
            </div>
            <span class="font-bold text-slate-900">₡584,051</span>
          </div>
        </div>
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-teal-700">2</span>
              </div>
              <span class="font-medium text-slate-900">Restaurant 43</span>
            </div>
            <span class="font-bold text-slate-900">₡49,383</span>
          </div>
        </div>
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-teal-700">3</span>
              </div>
              <span class="font-medium text-slate-900">Pharmacy 31</span>
            </div>
            <span class="font-bold text-slate-900">₡48,575</span>
          </div>
        </div>
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-teal-700">4</span>
              </div>
              <span class="font-medium text-slate-900">Pharmacy 22</span>
            </div>
            <span class="font-bold text-slate-900">₡46,618</span>
          </div>
        </div>
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-teal-700">5</span>
              </div>
              <span class="font-medium text-slate-900">Pharmacy 33</span>
            </div>
            <span class="font-bold text-slate-900">₡46,215</span>
          </div>
        </div>
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-teal-700">6</span>
              </div>
              <span class="font-medium text-slate-900">Coffee Shop 49</span>
            </div>
            <span class="font-bold text-slate-900">₡43,732</span>
          </div>
        </div>
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-teal-700">7</span>
              </div>
              <span class="font-medium text-slate-900">Restaurant 23</span>
            </div>
            <span class="font-bold text-slate-900">₡43,320</span>
          </div>
        </div>
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-teal-700">8</span>
              </div>
              <span class="font-medium text-slate-900">Restaurant 9</span>
            </div>
            <span class="font-bold text-slate-900">₡42,341</span>
          </div>
        </div>
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-teal-700">9</span>
              </div>
              <span class="font-medium text-slate-900">Pharmacy 27</span>
            </div>
            <span class="font-bold text-slate-900">₡42,141</span>
          </div>
        </div>
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-teal-700">10</span>
              </div>
              <span class="font-medium text-slate-900">Restaurant 44</span>
            </div>
            <span class="font-bold text-slate-900">₡42,004</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Bank Breakdown -->
    <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
      <h2 class="text-lg font-semibold text-slate-900 mb-4">Gastos por Banco</h2>
      <div class="space-y-3">
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-teal-700">
                  B
                </span>
              </div>
              <span class="font-medium text-slate-900">BAC</span>
            </div>
            <span class="font-bold text-slate-900">₡993,775</span>
          </div>
        </div>
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-slate-600">
                  M
                </span>
              </div>
              <span class="font-medium text-slate-900">BCR</span>
            </div>
            <span class="font-bold text-slate-900">₡532,626</span>
          </div>
        </div>
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-slate-600">
                  M
                </span>
              </div>
              <span class="font-medium text-slate-900">Manual Entry</span>
            </div>
            <span class="font-bold text-slate-900">₡365,499</span>
          </div>
        </div>
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="flex-shrink-0 w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center">
                <span class="text-sm font-bold text-slate-600">
                  M
                </span>
              </div>
              <span class="font-medium text-slate-900"></span>
            </div>
            <span class="font-bold text-slate-900">₡16,200</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Enhanced Recent Expenses Widget with Filtering (Epic 3 Task 3.2) -->
  <div class="bg-white rounded-xl shadow-sm border border-slate-200 dashboard-expenses-compact" 
       id="dashboard-expenses-widget"
       data-controller="dashboard-expenses"
       data-dashboard-expenses-view-mode-value="compact"
       data-environment="development">
    
    <!-- Header with Actions -->
    <div class="px-6 py-4 border-b border-slate-200">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-4">
          <h2 class="text-lg font-semibold text-slate-900">Gastos Recientes</h2>
        </div>
        
        <div class="flex items-center space-x-2">
          <!-- Batch Selection Toggle (Task 3.4) -->
          <button type="button"
                  class="p-2 text-slate-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors"
                  data-action="click->dashboard-expenses#toggleSelectionMode"
                  title="Modo de selección múltiple (Ctrl+Shift+S)"
                  aria-label="Activar selección múltiple">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
            </svg>
          </button>
          
          <!-- View Toggle (Task 3.2: Dashboard Compact View Toggle) -->
          <div class="dashboard-expenses-toggle" role="group" aria-label="Vista" title="Atajo: Ctrl+Shift+V">
            <button type="button" 
                    class="bg-white text-slate-900 shadow-sm"
                    data-action="click->dashboard-expenses#setViewMode"
                    data-mode="compact"
                    data-dashboard-expenses-target="compactButton"
                    aria-pressed="true"
                    aria-label="Vista compacta">
              <svg class="view-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
              </svg>
              <span class="view-label">Compacta</span>
            </button>
            <button type="button"
                    class="text-slate-600 hover:text-slate-900"
                    data-action="click->dashboard-expenses#setViewMode" 
                    data-mode="expanded"
                    data-dashboard-expenses-target="expandedButton"
                    aria-pressed="false"
                    aria-label="Vista expandida">
              <svg class="view-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h8m-8 4h16M4 18h11"></path>
              </svg>
              <span class="view-label">Expandida</span>
            </button>
          </div>
          
          <a class="text-teal-700 hover:text-teal-800 text-sm font-medium" href="/expenses">Ver todos</a>
        </div>
      </div>
      
      <!-- Quick Filters (Foundation for Epic 3 filtering) -->
        <div class="mt-3 flex flex-wrap gap-2">
            <button type="button"
                    class="inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 transition-colors"
                    data-action="click->dashboard-expenses#filterByCategory"
                    data-category-id="1">
              <span class="w-2 h-2 rounded-full mr-1.5" style="background-color: #FF6B6B"></span>
              Alimentación
              <span class="ml-1 text-slate-500">(55)</span>
            </button>
          
          
        </div>
    </div>
    
    <!-- Performance Metrics (Development/Staging only) -->
      <div class="px-6 py-2 bg-slate-50 border-b border-slate-200 text-xs text-slate-600">
        <span class="font-medium">Performance:</span>
        9.07ms query time,
        6 queries,
        15 rows
          <span class="text-emerald-600">✓ Index used</span>
      </div>
    
    <!-- Batch Selection Toolbar (Task 3.4) -->
    <div class="hidden px-6 py-3 bg-teal-50 border-b border-teal-200"
         data-dashboard-expenses-target="selectionToolbar"
         role="toolbar"
         aria-label="Acciones de selección">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-4">
          <!-- Select All Checkbox -->
          <div class="flex items-center">
            <input type="checkbox"
                   class="rounded border-slate-300 text-teal-600 focus:ring-teal-500"
                   data-dashboard-expenses-target="selectAllCheckbox"
                   data-action="change->dashboard-expenses#selectAll"
                   aria-label="Seleccionar todos">
            <label class="ml-2 text-sm font-medium text-slate-700">
              Seleccionar todos
            </label>
          </div>
          
          <!-- Selection Count -->
          <div class="text-sm text-slate-600">
            <span data-dashboard-expenses-target="selectedCount">0</span> seleccionados
          </div>
        </div>
        
        <!-- Bulk Actions -->
        <div class="flex items-center space-x-2">
        <button type="button"
                class="px-3 py-1.5 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                data-action="click->dashboard-expenses#bulkCategorize"
                title="Categorizar seleccionados">
          <svg class="w-4 h-4 inline-block mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
          </svg>
          Categorizar
        </button>
        
        <button type="button"
                class="px-3 py-1.5 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                data-action="click->dashboard-expenses#bulkUpdateStatus"
                title="Actualizar estado">
          <svg class="w-4 h-4 inline-block mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          Estado
        </button>
        
        <button type="button"
                class="px-3 py-1.5 text-sm font-medium text-white bg-rose-600 border border-rose-600 rounded-lg hover:bg-rose-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                data-action="click->dashboard-expenses#bulkDelete"
                title="Eliminar seleccionados">
          <svg class="w-4 h-4 inline-block mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
          </svg>
          Eliminar
        </button>
        
        <div class="w-px h-6 bg-slate-300"></div>
        
        <button type="button"
                class="px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors"
                data-action="click->dashboard-expenses#disableSelectionMode"
                title="Salir del modo de selección (Esc)">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
        </div>
      </div>
    </div>
    
    <!-- Expense List Container with Table Structure -->
    <div class="dashboard-expenses-container overflow-hidden" data-dashboard-expenses-target="container">
        <div class="overflow-x-auto">
          <table class="min-w-full divide-y divide-slate-200 dashboard-expenses-list" data-dashboard-expenses-target="list">
            <!-- Table Headers -->
            <thead class="bg-slate-50">
              <tr>
                <!-- Selection Checkbox Header (Task 3.4) -->
                <th class="checkbox-header hidden px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"
                    data-dashboard-expenses-target="selectionHeader">
                  <input type="checkbox"
                         data-dashboard-expenses-target="selectAllCheckbox"
                         data-action="change->dashboard-expenses#selectAll"
                         class="h-4 w-4 text-teal-600 focus:ring-teal-500 border-slate-300 rounded"
                         aria-label="Seleccionar todos los gastos visibles">
                </th>
                <th class="px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Fecha</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Comercio</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Categoría</th>
                <th class="px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider">Monto</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider hidden" data-dashboard-expenses-target="expandedColumns">Estado</th>
                <th class="px-4 py-3 text-center text-xs font-medium text-slate-500 uppercase tracking-wider">Acciones</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-slate-100">
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50  "
                    data-expense-id="161"
                    data-expense-status="pending"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="161"
                    data-dashboard-inline-actions-current-status-value="pending"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 1">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="161"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      17/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 10:00 PM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge uncategorized"
                               title="Sin categoría">
                            ?
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                            <p class="text-xs text-slate-600 line-clamp-2">Test expense</p>
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #161</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700">
                        Sin categoría
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡6,437
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-amber-100 text-amber-800">
                      Pending
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-amber-500 hover:text-emerald-600"
                                title="Marcar como procesado (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50  "
                    data-expense-id="159"
                    data-expense-status="pending"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="159"
                    data-dashboard-inline-actions-current-status-value="pending"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 2">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="159"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      17/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 10:00 PM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge uncategorized"
                               title="Sin categoría">
                            ?
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                            <p class="text-xs text-slate-600 line-clamp-2">Test expense</p>
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #159</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700">
                        Sin categoría
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡2,956
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-amber-100 text-amber-800">
                      Pending
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-amber-500 hover:text-emerald-600"
                                title="Marcar como procesado (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50  "
                    data-expense-id="154"
                    data-expense-status="pending"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="154"
                    data-dashboard-inline-actions-current-status-value="pending"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 3">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="154"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      17/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 10:00 PM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge uncategorized"
                               title="Sin categoría">
                            ?
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                            <p class="text-xs text-slate-600 line-clamp-2">Test expense</p>
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #154</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700">
                        Sin categoría
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡6,568
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-amber-100 text-amber-800">
                      Pending
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-amber-500 hover:text-emerald-600"
                                title="Marcar como procesado (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50  "
                    data-expense-id="112"
                    data-expense-status="pending"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="112"
                    data-dashboard-inline-actions-current-status-value="pending"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 4">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="112"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      17/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 10:00 PM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge uncategorized"
                               title="Sin categoría">
                            ?
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                            <p class="text-xs text-slate-600 line-clamp-2">Test expense</p>
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #112</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700">
                        Sin categoría
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡8,941
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-amber-100 text-amber-800">
                      Pending
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-amber-500 hover:text-emerald-600"
                                title="Marcar como procesado (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50  "
                    data-expense-id="99"
                    data-expense-status="pending"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="99"
                    data-dashboard-inline-actions-current-status-value="pending"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 5">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="99"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      17/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 10:00 PM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge uncategorized"
                               title="Sin categoría">
                            ?
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                            <p class="text-xs text-slate-600 line-clamp-2">Test expense</p>
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #99</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700">
                        Sin categoría
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡3,449
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-amber-100 text-amber-800">
                      Pending
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-amber-500 hover:text-emerald-600"
                                title="Marcar como procesado (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50 hidden "
                    data-expense-id="62"
                    data-expense-status="processed"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="62"
                    data-dashboard-inline-actions-current-status-value="processed"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 6">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="62"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant 1">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      17/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 09:00 PM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge"
                               style="background-color: #FF6B6B;"
                               title="Alimentación">
                            A
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant 1
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                            <p class="text-xs text-slate-600 line-clamp-2">Test Expense 1</p>
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #62</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-white"
                            style="background-color: #FF6B6B;">
                        Alimentación
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡110
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-emerald-100 text-emerald-800">
                      Processed
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-emerald-500 hover:text-amber-600"
                                title="Marcar como pendiente (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50 hidden "
                    data-expense-id="61"
                    data-expense-status="processed"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="61"
                    data-dashboard-inline-actions-current-status-value="processed"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 7">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="61"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant 0">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      17/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 09:00 PM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge"
                               style="background-color: #FF6B6B;"
                               title="Alimentación">
                            A
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant 0
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                            <p class="text-xs text-slate-600 line-clamp-2">Test Expense 0</p>
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #61</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-white"
                            style="background-color: #FF6B6B;">
                        Alimentación
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡100
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-emerald-100 text-emerald-800">
                      Processed
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-emerald-500 hover:text-amber-600"
                                title="Marcar como pendiente (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50 hidden "
                    data-expense-id="60"
                    data-expense-status="pending"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="60"
                    data-dashboard-inline-actions-current-status-value="pending"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 8">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="60"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      17/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 02:37 PM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge uncategorized"
                               title="Sin categoría">
                            ?
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #60</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700">
                        Sin categoría
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡1,000
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-amber-100 text-amber-800">
                      Pending
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-amber-500 hover:text-emerald-600"
                                title="Marcar como procesado (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50 hidden "
                    data-expense-id="59"
                    data-expense-status="processed"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="59"
                    data-dashboard-inline-actions-current-status-value="processed"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 9">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="59"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      17/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 01:26 AM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge"
                               style="background-color: #FF6B6B;"
                               title="Alimentación">
                            A
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #59</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-white"
                            style="background-color: #FF6B6B;">
                        Alimentación
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡100
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-emerald-100 text-emerald-800">
                      Processed
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-emerald-500 hover:text-amber-600"
                                title="Marcar como pendiente (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50 hidden "
                    data-expense-id="58"
                    data-expense-status="processed"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="58"
                    data-dashboard-inline-actions-current-status-value="processed"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 10">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="58"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      17/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 01:04 AM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge"
                               style="background-color: #FF6B6B;"
                               title="Alimentación">
                            A
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #58</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-white"
                            style="background-color: #FF6B6B;">
                        Alimentación
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡100
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-emerald-100 text-emerald-800">
                      Processed
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-emerald-500 hover:text-amber-600"
                                title="Marcar como pendiente (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50 hidden "
                    data-expense-id="88"
                    data-expense-status="pending"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="88"
                    data-dashboard-inline-actions-current-status-value="pending"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 11">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="88"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      16/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 10:00 PM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge uncategorized"
                               title="Sin categoría">
                            ?
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                            <p class="text-xs text-slate-600 line-clamp-2">Test expense</p>
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #88</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700">
                        Sin categoría
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡3,096
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-amber-100 text-amber-800">
                      Pending
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-amber-500 hover:text-emerald-600"
                                title="Marcar como procesado (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50 hidden "
                    data-expense-id="162"
                    data-expense-status="pending"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="162"
                    data-dashboard-inline-actions-current-status-value="pending"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 12">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="162"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      15/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 10:00 PM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge uncategorized"
                               title="Sin categoría">
                            ?
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                            <p class="text-xs text-slate-600 line-clamp-2">Test expense</p>
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #162</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700">
                        Sin categoría
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡5,858
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-amber-100 text-amber-800">
                      Pending
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-amber-500 hover:text-emerald-600"
                                title="Marcar como procesado (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50 hidden "
                    data-expense-id="95"
                    data-expense-status="pending"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="95"
                    data-dashboard-inline-actions-current-status-value="pending"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 13">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="95"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      15/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 10:00 PM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge uncategorized"
                               title="Sin categoría">
                            ?
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                            <p class="text-xs text-slate-600 line-clamp-2">Test expense</p>
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #95</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700">
                        Sin categoría
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡8,371
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-amber-100 text-amber-800">
                      Pending
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-amber-500 hover:text-emerald-600"
                                title="Marcar como procesado (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50 hidden "
                    data-expense-id="90"
                    data-expense-status="pending"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="90"
                    data-dashboard-inline-actions-current-status-value="pending"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 14">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="90"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      15/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 17, 2025 at 10:00 PM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge uncategorized"
                               title="Sin categoría">
                            ?
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                            <p class="text-xs text-slate-600 line-clamp-2">Test expense</p>
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #90</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700">
                        Sin categoría
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡3,329
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-amber-100 text-amber-800">
                      Pending
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-amber-500 hover:text-emerald-600"
                                title="Marcar como procesado (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <!-- Expense Row (Task 3.2: View Toggle Support + Task 3.3: Inline Actions) -->
                <tr class="dashboard-expense-row group hover:bg-slate-50 hidden "
                    data-expense-id="57"
                    data-expense-status="pending"
                    data-dashboard-expenses-target="expenseRow"
                    data-controller="dashboard-inline-actions"
                    data-dashboard-inline-actions-expense-id-value="57"
                    data-dashboard-inline-actions-current-status-value="pending"
                    data-environment="development"
                    tabindex="0"
                    role="row"
                    aria-label="Gasto 15">
                  
                  <!-- Selection Checkbox (Task 3.4) -->
                  <td class="checkbox-cell hidden px-4 py-3"
                      data-dashboard-expenses-target="selectionContainer">
                    <input type="checkbox" 
                           class="rounded border-slate-300 text-teal-600 focus:ring-teal-500 cursor-pointer"
                           data-expense-id="57"
                           data-dashboard-expenses-target="selectionCheckbox"
                           data-action="change->dashboard-expenses#toggleSelection"
                           aria-label="Seleccionar gasto Test Merchant">
                  </td>
                  
                  <!-- Date Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-slate-900">
                      15/08/2025
                    </div>
                    <div class="text-xs text-slate-500">
                      August 15, 2025 at 02:31 AM
                    </div>
                  </td>
                  
                  <!-- Merchant Column -->
                  <td class="px-4 py-3">
                    <div class="flex items-center">
                      <!-- Category Icon -->
                      <div class="flex-shrink-0 mr-3">
                          <div class="expense-category-badge"
                               style="background-color: #FF6B6B;"
                               title="Alimentación">
                            A
                          </div>
                      </div>
                      
                      <div class="min-w-0 flex-1">
                        <div class="text-sm font-medium text-slate-900 truncate">
                          Test Merchant
                        </div>
                        <div class="text-xs text-slate-500">
                          BAC
                        </div>
                        
                        <!-- Expanded view details -->
                        <div class="expense-expanded-details mt-1 hidden"
                             data-dashboard-expenses-target="expandedDetails">
                            <p class="text-xs text-slate-600 line-clamp-2">Test expense for inline actions</p>
                          <div class="text-xs text-slate-500 mt-1">
                            <span>ID: #57</span>
                              <span class="ml-2">Cuenta: ecsoto07</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  
                  <!-- Category Column -->
                  <td class="px-4 py-3 whitespace-nowrap">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-white"
                            style="background-color: #FF6B6B;">
                        Alimentación
                      </span>
                  </td>
                  
                  <!-- Amount Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-right">
                    <div class="text-sm font-bold text-slate-900">
                      ₡15,000
                    </div>
                  </td>
                  
                  <!-- Status Column (Expanded View Only) -->
                  <td class="px-4 py-3 whitespace-nowrap hidden" data-dashboard-expenses-target="expandedColumns">
                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium 
                                 bg-amber-100 text-amber-800">
                      Pending
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="px-4 py-3 whitespace-nowrap text-center">
                    <!-- Inline Quick Actions (Task 3.3: Dashboard Inline Actions) -->
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 inline-quick-actions">
                      <div class="flex items-center justify-center space-x-1">
                        <!-- Quick Categorize -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-teal-600 transition-colors"
                                  title="Categorizar (C)"
                                  data-action="click->dashboard-inline-actions#toggleCategoryDropdown"
                                  aria-label="Cambiar categoría">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                          </button>
                          
                          <!-- Category Dropdown (hidden by default) -->
                          <div class="absolute right-0 top-8 z-50 w-48 bg-white rounded-lg shadow-lg border border-slate-200 hidden"
                               data-dashboard-inline-actions-target="categoryDropdown">
                            <div class="py-1 max-h-64 overflow-y-auto">
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="17"
                                        data-category-name="Agua">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Agua</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="1"
                                        data-category-name="Alimentación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FF6B6B"></span>
                                  <span class="truncate">Alimentación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="15"
                                        data-category-name="Autobús">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Autobús</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="12"
                                        data-category-name="Cafetería">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Cafetería</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="6"
                                        data-category-name="Compras">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #DDA0DD"></span>
                                  <span class="truncate">Compras</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="7"
                                        data-category-name="Educación">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #98D8C8"></span>
                                  <span class="truncate">Educación</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="16"
                                        data-category-name="Electricidad">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electricidad</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="21"
                                        data-category-name="Electrónicos">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Electrónicos</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="4"
                                        data-category-name="Entretenimiento">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #96CEB4"></span>
                                  <span class="truncate">Entretenimiento</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="13"
                                        data-category-name="Gasolina">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Gasolina</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="8"
                                        data-category-name="Hogar">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #F7DC6F"></span>
                                  <span class="truncate">Hogar</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="18"
                                        data-category-name="Internet">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Internet</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="10"
                                        data-category-name="Restaurantes">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Restaurantes</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="20"
                                        data-category-name="Ropa">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Ropa</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="5"
                                        data-category-name="Salud">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #FFEAA7"></span>
                                  <span class="truncate">Salud</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="3"
                                        data-category-name="Servicios">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #45B7D1"></span>
                                  <span class="truncate">Servicios</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="9"
                                        data-category-name="Sin Categoría">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #BDC3C7"></span>
                                  <span class="truncate">Sin Categoría</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="11"
                                        data-category-name="Supermercado">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Supermercado</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="19"
                                        data-category-name="Teléfono">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Teléfono</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="2"
                                        data-category-name="Transporte">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: #4ECDC4"></span>
                                  <span class="truncate">Transporte</span>
                                </button>
                                <button type="button"
                                        class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 transition-colors"
                                        data-action="click->dashboard-inline-actions#selectCategory"
                                        data-category-id="14"
                                        data-category-name="Uber/Taxi">
                                  <span class="inline-block w-3 h-3 rounded-full flex-shrink-0" style="background-color: "></span>
                                  <span class="truncate">Uber/Taxi</span>
                                </button>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Status Toggle -->
                        <button type="button"
                                class="p-1 transition-colors text-amber-500 hover:text-emerald-600"
                                title="Marcar como procesado (S)"
                                data-action="click->dashboard-inline-actions#toggleStatus"
                                aria-label="Cambiar estado">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        
                        <!-- Duplicate -->
                        <button type="button"
                                class="p-1 text-slate-400 hover:text-amber-600 transition-colors"
                                title="Duplicar (D)"
                                data-action="click->dashboard-inline-actions#duplicateExpense"
                                aria-label="Duplicar gasto">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                          </svg>
                        </button>
                        
                        <!-- Delete -->
                        <div class="relative">
                          <button type="button"
                                  class="p-1 text-slate-400 hover:text-rose-600 transition-colors"
                                  title="Eliminar (Del)"
                                  data-action="click->dashboard-inline-actions#showDeleteConfirmation"
                                  aria-label="Eliminar gasto">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                          </button>
                          
                          <!-- Delete Confirmation Modal -->
                          <div class="absolute right-0 top-8 z-50 w-56 bg-white rounded-lg shadow-xl border border-rose-200 p-4 hidden"
                               data-dashboard-inline-actions-target="deleteConfirmation">
                            <div class="flex items-start gap-3 mb-3">
                              <div class="flex-shrink-0 w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                              </div>
                              <div class="flex-1">
                                <h3 class="text-sm font-semibold text-slate-900">Confirmar eliminación</h3>
                                <p class="text-xs text-slate-600 mt-1">Esta acción no se puede deshacer</p>
                              </div>
                            </div>
                            <div class="flex gap-2">
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors"
                                      data-action="click->dashboard-inline-actions#confirmDelete">
                                Eliminar
                              </button>
                              <button type="button"
                                      class="flex-1 px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors"
                                      data-action="click->dashboard-inline-actions#cancelDelete">
                                Cancelar
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
            </tbody>
          </table>
        </div>
        
        <!-- Pagination (if more than page size) -->
          <div class="mt-4 flex justify-center">
            <button type="button"
                    class="px-4 py-2 text-sm font-medium text-teal-700 bg-white border border-teal-300 rounded-lg hover:bg-teal-50 transition-colors"
                    data-action="click->dashboard-expenses#loadMore">
              Cargar más gastos
            </button>
          </div>
    </div>
    
    <!-- Summary Stats (if available) -->
      <div class="px-6 py-3 bg-slate-50 border-t border-slate-200">
        <div class="flex items-center justify-between text-xs text-slate-600">
          <span>
            Total mostrado: <span class="font-medium text-slate-900">₡1,908,100</span>
          </span>
          <span>
            156 gastos •
            53 comercios •
            1 categorías
          </span>
        </div>
      </div>
  </div>
</div><!-- END app/views/expenses/dashboard.html.erb -->
    </main>
  </body>
</html>
<!-- END app/views/layouts/application.html.erb -->